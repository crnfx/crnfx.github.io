const callBackBtns=document.querySelectorAll(".callback-form"),heroModalOverlay=document.querySelector(".hero__overlay"),heroModalOverlaySuccess=document.querySelector(".hero__overlay--success"),modalForm=document.querySelector(".hero__modal--form"),footerBtn=document.querySelectorAll(".footer__btn"),modalSuccess=document.querySelectorAll(".hero__modal--success");callBackBtns.forEach(e=>{e.addEventListener("click",e=>{let r=e.currentTarget.getAttribute("data-path");document.querySelector(`[data-target="${r}"]`).classList.add("modal--visible"),heroModalOverlay.classList.add("modal__overlay--visible")})}),heroModalOverlay.addEventListener("click",e=>{e.target==heroModalOverlay&&(heroModalOverlay.classList.remove("modal__overlay--visible"),modalForm.classList.remove("modal--visible"))});const heroSwiper=new Swiper(".hero__swiper",{effect:"fade",autoplay:{delay:2e3}});heroModalOverlaySuccess.addEventListener("click",e=>{e.target==heroModalOverlaySuccess&&(heroModalOverlaySuccess.classList.remove("modal__overlay--visible"),modalForm.classList.remove("modal--visible")),heroModalOverlay.classList.remove("modal__overlay--visible")});const telSelector=document.querySelector(".input-tel"),footerTelSelector=document.querySelector(".footer-tel"),footerTabletTelSelector=document.querySelector(".footer-tel--tablet"),inputMask=new Inputmask("+7 (999) 999-99-99");inputMask.mask(telSelector),inputMask.mask(footerTelSelector),inputMask.mask(footerTabletTelSelector);const validation=new JustValidate("#form");validation.addField(".input-name",[{rule:"required",errorMessage:"Вы не ввели имя"},{rule:"minLength",value:2,errorMessage:"Вы не ввели имя"},{rule:"maxLength",value:30,errorMessage:"Вы не ввели имя"},]).addField(".input-tel",[{rule:"function",validator:function(){let e=telSelector.inputmask.unmaskedvalue();return console.log(e),10===e.length},errorMessage:"Вы не ввели телефон"},]).addField(".input-text",[{rule:"required",errorMessage:"Вы не ввели причину обращения"},{rule:"minLength",value:2,errorMessage:"Вы не ввели причину обращения"},{rule:"maxLength",value:5e3,errorMessage:"Вы не ввели причину обращения"},]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e&&heroModalOverlaySuccess.classList.add("modal__overlay--visible");let r=new FormData(e.target);console.log(...r);let a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&console.log("Отправлено")},a.open("POST","mail.php",!0),a.send(r),e.target.reset()});const validationFooter=new JustValidate("#footer-form");validationFooter.addField(".footer-name",[{rule:"required",errorMessage:"Вы не ввели имя"},{rule:"minLength",value:2,errorMessage:"Вы не ввели имя"},{rule:"maxLength",value:30,errorMessage:"Вы не ввели имя"},]).addField(".footer-tel",[{rule:"function",validator:function(){let e=footerTelSelector.inputmask.unmaskedvalue();return 10===e.length},errorMessage:"Вы не ввели телефон"},]).addField(".footer-text",[{rule:"required",errorMessage:"Вы не ввели причину обращения"},{rule:"minLength",value:2,errorMessage:"Вы не ввели причину обращения"},{rule:"maxLength",value:5e3,errorMessage:"Вы не ввели причину обращения"},]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e&&heroModalOverlaySuccess.classList.add("modal__overlay--visible");let r=new FormData(e.target);console.log(...r);let a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&console.log("Отправлено")},a.open("POST","mail.php",!0),a.send(r),e.target.reset()});const validationFooterTablet=new JustValidate("#footer-form--tablet");validationFooterTablet.addField(".footer-name--tablet",[{rule:"required",errorMessage:"Вы не ввели имя"},{rule:"minLength",value:2,errorMessage:"Вы не ввели имя"},{rule:"maxLength",value:30,errorMessage:"Вы не ввели имя"},]).addField(".footer-tel--tablet",[{rule:"function",validator:function(){let e=footerTabletTelSelector.inputmask.unmaskedvalue();return 10===e.length},errorMessage:"Вы не ввели телефон"},]).addField(".footer-text--tablet",[{rule:"required",errorMessage:"Вы не ввели причину обращения"},{rule:"minLength",value:2,errorMessage:"Вы не ввели причину обращения"},{rule:"maxLength",value:5e3,errorMessage:"Вы не ввели причину обращения"},]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e&&heroModalOverlaySuccess.classList.add("modal__overlay--visible");let r=new FormData(e.target);console.log(...r);let a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&console.log("Отправлено")},a.open("POST","mail.php",!0),a.send(r),e.target.reset()});const aboutSwiper=new Swiper(".hero__swiper--about",{slidesPerView:1,spaceBetween:5,navigation:{nextEl:".about-next",prevEl:".about-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:2,spaceBetween:20},1366:{slidesPerView:3,spaceBetween:20}}});