const conditionerBtn=document.querySelector(".catalogue__conditioner--btn"),ventilationBtn=document.querySelector(".catalogue__ventilation--btn"),conditionerCatalogue=document.querySelector(".catalogue__conditioners"),ventilationCatalogue=document.querySelector(".catalogue__ventilation");conditionerBtn.addEventListener("click",function(){ventilationCatalogue.classList.contains("catalogue__ventilation--active")&&ventilationCatalogue.classList.remove("catalogue__ventilation--active"),conditionerCatalogue.classList.toggle("catalogue__conditioners--active")}),ventilationBtn.addEventListener("click",function(){conditionerCatalogue.classList.contains("catalogue__conditioners--active")&&conditionerCatalogue.classList.remove("catalogue__conditioners--active"),ventilationCatalogue.classList.toggle("catalogue__ventilation--active")});const accordion=document.getElementsByClassName("catalogue__trigger");for(let i=0;i<accordion.length;i++)accordion[i].addEventListener("click",function(){this.classList.toggle("accordion-active");let e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"});document.querySelectorAll(".catalogue__conditioner--nav").forEach(function(e){e.addEventListener("click",function(e){let t=e.currentTarget.dataset.path;document.querySelectorAll(".catalogue__conditioner--nav").forEach(function(e){e.classList.remove("catalogue--conditioner__nav--active")}),e.currentTarget.classList.add("catalogue--conditioner__nav--active"),document.querySelectorAll(".conditioner").forEach(function(e){e.classList.remove("conditioner--active")}),document.querySelector(`[data-target="${t}"]`).classList.add("conditioner--active")})}),document.querySelectorAll(".catalogue__ventilation--nav").forEach(function(e){e.addEventListener("click",function(e){let t=e.currentTarget.dataset.path;document.querySelectorAll(".catalogue__ventilation--nav").forEach(function(e){e.classList.remove("catalogue--ventilation__nav--active")}),e.currentTarget.classList.add("catalogue--ventilation__nav--active"),document.querySelectorAll(".ventilation").forEach(function(e){e.classList.remove("ventilation--active")}),document.querySelector(`[data-target="${t}"]`).classList.add("ventilation--active")})});const btns=document.querySelectorAll(".catalogue__btn"),modalOverlay=document.querySelector(".catalogue__overlay"),modals=document.querySelector(".catalogue__modal--form"),productName=document.querySelectorAll(".catalogue__name"),price=document.querySelectorAll(".catalogue__price"),inputProduct=document.querySelector(".product-name"),inputPrice=document.querySelector(".product-price"),heroModalOverlaySuccess=document.querySelector(".hero__overlay--success");btns.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget.getAttribute("data-path"),a=e.currentTarget.getAttribute("data-model"),o=e.currentTarget.getAttribute("data-price");modals.classList.remove("modal--visible"),inputProduct.value=a,inputPrice.value=o,document.querySelector(`[data-target="${t}"]`).classList.add("modal--visible"),modalOverlay.classList.add("modal__overlay--visible")})}),modalOverlay.addEventListener("click",e=>{e.target==modalOverlay&&(modalOverlay.classList.remove("modal__overlay--visible"),modals.classList.remove("modal--visible"))}),heroModalOverlaySuccess.addEventListener("click",e=>{e.target==heroModalOverlaySuccess&&heroModalOverlaySuccess.classList.remove("modal__overlay--visible")});const catalogueSwipers=document.querySelectorAll(".catalogue__swiper");catalogueSwipers.forEach(e=>{new Swiper(e,{loop:!0,pagination:{el:e.querySelector(".catalogue__pagination"),clickable:!0}})});const telSelector=document.querySelector(".input-tel"),footerTelSelector=document.querySelector(".footer-tel"),footerTabletTelSelector=document.querySelector(".footer-tel--tablet"),inputMask=new Inputmask("+7 (999) 999-99-99");inputMask.mask(telSelector),inputMask.mask(footerTelSelector),inputMask.mask(footerTabletTelSelector);const orderForm=new JustValidate("#order-form");orderForm.addField(".input-name",[{rule:"required",errorMessage:"Вы не ввели имя"},{rule:"minLength",value:2,errorMessage:"Вы не ввели имя"},{rule:"maxLength",value:30,errorMessage:"Вы не ввели имя"},]).addField(".input-tel",[{rule:"function",validator:function(){let e=telSelector.inputmask.unmaskedvalue();return 10===e.length},errorMessage:"Вы не ввели телефон"},]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e&&(heroModalOverlaySuccess.classList.add("modal__overlay--visible"),modalOverlay.classList.remove("modal__overlay--visible"));let t=new FormData(e.target);console.log(...t);let a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&console.log("Отправлено")},a.open("POST","mail.php",!0),a.send(t),e.target.reset()});const validationFooter=new JustValidate("#footer-form");validationFooter.addField(".footer-name",[{rule:"required",errorMessage:"Вы не ввели имя"},{rule:"minLength",value:2,errorMessage:"Вы не ввели имя"},{rule:"maxLength",value:30,errorMessage:"Вы не ввели имя"},]).addField(".footer-tel",[{rule:"function",validator:function(){let e=footerTelSelector.inputmask.unmaskedvalue();return 10===e.length},errorMessage:"Вы не ввели телефон"},]).addField(".footer-text",[{rule:"required",errorMessage:"Вы не ввели причину обращения"},{rule:"minLength",value:2,errorMessage:"Вы не ввели причину обращения"},{rule:"maxLength",value:5e3,errorMessage:"Вы не ввели причину обращения"},]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e&&heroModalOverlaySuccess.classList.add("modal__overlay--visible");let t=new FormData(e.target);console.log(...t);let a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&console.log("Отправлено")},a.open("POST","mail.php",!0),a.send(t),e.target.reset()});const validationFooterTablet=new JustValidate("#footer-form--tablet");validationFooterTablet.addField(".footer-name--tablet",[{rule:"required",errorMessage:"Вы не ввели имя"},{rule:"minLength",value:2,errorMessage:"Вы не ввели имя"},{rule:"maxLength",value:30,errorMessage:"Вы не ввели имя"},]).addField(".footer-tel--tablet",[{rule:"function",validator:function(){let e=footerTabletTelSelector.inputmask.unmaskedvalue();return 10===e.length},errorMessage:"Вы не ввели телефон"},]).addField(".footer-text--tablet",[{rule:"required",errorMessage:"Вы не ввели причину обращения"},{rule:"minLength",value:2,errorMessage:"Вы не ввели причину обращения"},{rule:"maxLength",value:5e3,errorMessage:"Вы не ввели причину обращения"},]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e&&heroModalOverlaySuccess.classList.add("modal__overlay--visible");let t=new FormData(e.target);console.log(...t);let a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&console.log("Отправлено")},a.open("POST","mail.php",!0),a.send(t),e.target.reset()});